---
layout: post
title:  "Jest Testing Tips"
date:   2020-06-09
---

#### Mock default export
```javascript
jest.mock('my-module', () => ({
  __esModule: true,
  default: jest.fn(),
}));
```

#### Mock export implementation
Because Jest always hoist all mocks so we cannot define a spy and use it in the mock export. We need to change the mockImplemention after `jest.mock`:
```javascript
import myModule from 'my-module';

jest.mock('@uc/date-picker', () => ({
  __esModule: true,
  default: jest.fn(),
}));

const mockMyModule = jest.fn();
myModule.mockImplementation(mockMyModule);

```